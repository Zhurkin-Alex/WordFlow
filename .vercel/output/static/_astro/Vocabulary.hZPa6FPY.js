import{d as a,y}from"./hooks.module.BHax5pmd.js";import{g as i,s as v}from"./storage.dyqxtIRL.js";import{u as e}from"./jsxRuntime.module.BXRLK4zq.js";import"./preact.module.BkxX9n6Y.js";const T=()=>{const[r,d]=a([]),[l,h]=a(null),[c,g]=a(""),[m,o]=a(!1);y(()=>{const s=i(),t=Object.entries(s.knownWords||{}).map(([n,b])=>({word:n,data:b}));d(t)},[]);const p=async s=>{o(!0);try{const n=await(await fetch(`https://api.mymemory.translated.net/get?q=${s}&langpair=ru|en`)).json();g(n.responseData.translatedText)}catch(t){console.error("Translation error:",t)}o(!1)},x=s=>{const t=new SpeechSynthesisUtterance(s);t.lang="ru-RU",window.speechSynthesis.speak(t)},u=s=>{const t=i();t.knownWords[s].learned=!t.knownWords[s].learned,v(t),d(r.map(n=>n.word===s?{...n,data:{...n.data,learned:!n.data.learned}}:n))};return e("div",{class:"min-h-screen bg-gray-100 py-8 px-4",children:e("div",{class:"max-w-4xl mx-auto",children:[e("h1",{class:"text-3xl font-bold text-gray-800 mb-8",children:"Мой словарь"}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e("div",{class:"bg-white rounded-lg shadow-md p-6",children:[e("h2",{class:"text-xl font-semibold mb-4",children:"Слова для изучения"}),e("div",{class:"space-y-4",children:r.map(({word:s,data:t})=>e("div",{class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e("div",{class:"flex items-center space-x-3",children:[e("input",{type:"checkbox",checked:t.learned,onChange:()=>u(s),class:"w-5 h-5 text-blue-600 rounded"}),e("span",{class:`font-medium ${t.learned?"line-through text-gray-500":"text-gray-800"}`,children:s})]}),e("div",{class:"flex space-x-2",children:[e("button",{onClick:()=>x(s),class:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Произнести",children:"🔊"}),e("button",{onClick:()=>{h(s),p(s)},class:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Перевести",children:"📖"})]})]},s))})]}),l&&e("div",{class:"bg-white rounded-lg shadow-md p-6",children:[e("h2",{class:"text-xl font-semibold mb-4",children:"Детали слова"}),e("div",{class:"space-y-4",children:[e("div",{class:"text-2xl font-bold text-gray-800",children:l}),m?e("div",{class:"text-gray-600",children:"Загрузка перевода..."}):c?e("div",{class:"p-3 bg-gray-50 rounded-lg",children:e("p",{class:"text-gray-800",children:c})}):null,e("div",{class:"text-sm text-gray-500",children:["Показано раз: ",r.find(s=>s.word===l)?.data.shownTimes]})]})]})]})]})})};export{T as default};
